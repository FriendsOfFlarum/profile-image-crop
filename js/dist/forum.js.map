{"version":3,"file":"forum.js","mappings":"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ASoJ,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AACxED,IAAAA,CAAC,CAACpJ,SAAF,GAAcqJ,CAAd;AACA,WAAOD,CAAP;AACD,GAHD;;AAKA,SAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;AACD;;;;;;UCPD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA","sources":["webpack://@fof/profile-image-crop/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/profile-image-crop/./node_modules/blob-util/dist/blob-util.es.js","webpack://@fof/profile-image-crop/./node_modules/regenerator-runtime/runtime.js","webpack://@fof/profile-image-crop/./src/forum/components/ProfileImageCropModal.js","webpack://@fof/profile-image-crop/./src/forum/index.js","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/profile-image-crop/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@fof/profile-image-crop/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/profile-image-crop/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/profile-image-crop/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/profile-image-crop/webpack/bootstrap","webpack://@fof/profile-image-crop/webpack/runtime/compat get default export","webpack://@fof/profile-image-crop/webpack/runtime/create fake namespace object","webpack://@fof/profile-image-crop/webpack/runtime/define property getters","webpack://@fof/profile-image-crop/webpack/runtime/ensure chunk","webpack://@fof/profile-image-crop/webpack/runtime/get javascript chunk filename","webpack://@fof/profile-image-crop/webpack/runtime/global","webpack://@fof/profile-image-crop/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/profile-image-crop/webpack/runtime/load script","webpack://@fof/profile-image-crop/webpack/runtime/make namespace object","webpack://@fof/profile-image-crop/webpack/runtime/publicPath","webpack://@fof/profile-image-crop/webpack/runtime/jsonp chunk loading","webpack://@fof/profile-image-crop/./forum.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */\nfunction loadImage(src, crossOrigin) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        if (crossOrigin) {\n            img.crossOrigin = crossOrigin;\n        }\n        img.onload = function () {\n            resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n    });\n}\n/** @private */\nfunction imgToCanvas(img) {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    // copy the image contents to the canvas\n    var context = canvas.getContext('2d');\n    context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n    return canvas;\n}\n\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\nfunction createBlob(parts, properties) {\n    parts = parts || [];\n    properties = properties || {};\n    if (typeof properties === 'string') {\n        properties = { type: properties }; // infer content type\n    }\n    try {\n        return new Blob(parts, properties);\n    }\n    catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined'\n            ? BlobBuilder : typeof MSBlobBuilder !== 'undefined'\n            ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined'\n            ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\nfunction createObjectURL(blob) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\nfunction revokeObjectURL(url) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBinaryString(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n        reader.onloadend = function () {\n            var result = reader.result || '';\n            if (hasBinaryString) {\n                return resolve(result);\n            }\n            resolve(arrayBufferToBinaryString(result));\n        };\n        reader.onerror = reject;\n        if (hasBinaryString) {\n            reader.readAsBinaryString(blob);\n        }\n        else {\n            reader.readAsArrayBuffer(blob);\n        }\n    });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction base64StringToBlob(base64, type) {\n    var parts = [binaryStringToArrayBuffer(atob(base64))];\n    return type ? createBlob(parts, { type: type }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction binaryStringToBlob(binary, type) {\n    return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBase64String(blob) {\n    return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\nfunction dataURLToBlob(dataURL) {\n    var type = dataURL.match(/data:([^;]+)/)[1];\n    var base64 = dataURL.replace(/^[^,]+,/, '');\n    var buff = binaryStringToArrayBuffer(atob(base64));\n    return createBlob([buff], { type: type });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\nfunction blobToDataURL(blob) {\n    return blobToBase64String(blob).then(function (base64String) {\n        return 'data:' + blob.type + ';base64,' + base64String;\n    });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvas.toDataURL(type, quality);\n    });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction canvasToBlob(canvas, type, quality) {\n    if (typeof canvas.toBlob === 'function') {\n        return new Promise(function (resolve) {\n            canvas.toBlob(resolve, type, quality);\n        });\n    }\n    return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvasToBlob(canvas, type, quality);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction arrayBufferToBlob(buffer, type) {\n    return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\nfunction blobToArrayBuffer(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var result = reader.result || new ArrayBuffer(0);\n            resolve(result);\n        };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(blob);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\nexport { createBlob, createObjectURL, revokeObjectURL, blobToBinaryString, base64StringToBlob, binaryStringToBlob, blobToBase64String, dataURLToBlob, blobToDataURL, imgSrcToDataURL, canvasToBlob, imgSrcToBlob, arrayBufferToBlob, blobToArrayBuffer, arrayBufferToBinaryString, binaryStringToArrayBuffer };\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nimport { dataURLToBlob } from 'blob-util';\n\nexport default class ProfileImageCropModal extends Modal {\n  static isDismissible = false;\n\n  className() {\n    return 'FofProfileImageCropModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('core.forum.user.avatar_upload_button');\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    const reader = new FileReader();\n\n    reader.addEventListener('load', () => {\n      this.image = reader.result;\n      m.redraw();\n    });\n\n    reader.readAsDataURL(this.attrs.file);\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Image-container\">\n          {!this.ready && <LoadingIndicator size=\"tiny\" />}\n          {this.image && <img src={this.image} ready={!!this.ready} onload={this.loadPicker.bind(this)} />}\n        </div>\n\n        <br />\n\n        <div className=\"Modal-buttons\">\n          <Button className=\"Button Button--primary\" loading={this.loading} onclick={this.submit.bind(this)}>\n            {app.translator.trans('core.lib.edit_user.submit_button')}\n          </Button>\n\n          <Button className=\"Button Button--icon Button--danger\" icon=\"fas fa-times\" onclick={this.hide.bind(this)} />\n        </div>\n      </div>\n    );\n  }\n\n  async loadPicker(evt) {\n    __webpack_public_path__ = `${app.forum.attribute('baseUrl')}/assets/extensions/fof-profile-image-crop/`;\n\n    let Cropper;\n\n    try {\n      Cropper = (await import(/* webpackChunkName: 'modules' */ 'cropperjs')).default;\n    } catch (e) {\n      console.error('[fof/profile-image-crop] An error occurred while loading cropperjs.', e);\n    }\n\n    setTimeout(() => {\n      this.ready = true;\n\n      if (Cropper) {\n        this.cropper = new Cropper(evt.target || evt.path[0], {\n          aspectRatio: 1,\n          viewMode: 1,\n          guides: false,\n          background: false,\n          responsive: true,\n        });\n      }\n\n      m.redraw();\n    }, 500);\n  }\n\n  onbeforeupdate(vnode) {\n    if (vnode.attrs.error) {\n      this.loading = false;\n\n      delete vnode.attrs.error;\n      delete app.modal.modal.attrs.error;\n    }\n\n    super.onbeforeupdate(vnode);\n  }\n\n  async submit() {\n    try {\n      await this.upload();\n    } catch (e) {\n      this.loading = false;\n\n      throw e;\n    }\n  }\n\n  async upload() {\n    if (this.loading) return;\n\n    this.loading = true;\n\n    if (!this.cropper) {\n      return await this.submitDataURI(this.image);\n    }\n\n    const canvas = this.cropper.getCroppedCanvas();\n    const blob = await new Promise((resolve) => canvas.toBlob(resolve));\n\n    let imageBlobReduce;\n\n    try {\n      // Importing package directly uses ESM build which errors on prod webpack build.\n      imageBlobReduce = (await import(/* webpackChunkName: 'modules' */ '../util/resize')).default;\n    } catch (e) {\n      console.error('[fof/profile-image-crop] An error occurred while loading image-blob-reduce.', e);\n\n      return await this.submitDataURI(canvas.toDataURL());\n    }\n\n    const resizedCanvas = await imageBlobReduce().toCanvas(blob, {\n      max: 100,\n    });\n\n    await this.submitDataURI(resizedCanvas.toDataURL());\n  }\n\n  async submitDataURI(dataURI) {\n    const blob = await dataURLToBlob(dataURI);\n\n    const file = new File([blob], this.attrs.file.name, { type: this.attrs.file.type });\n\n    this.attrs.upload(file);\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport { extend, override } from 'flarum/common/extend';\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\n\nimport ProfileImageCropModal from './components/ProfileImageCropModal';\n\napp.initializers.add('fof/profile-image-crop', () => {\n  override(AvatarEditor.prototype, 'upload', function (original, file) {\n    if (!file || !window.FileReader) return original();\n    if (this.loading) return;\n\n    app.modal.show(ProfileImageCropModal, {\n      file,\n      upload: original,\n    });\n  });\n\n  extend(AvatarEditor.prototype, 'success', () => {\n    app.modal.close();\n  });\n\n  extend(AvatarEditor.prototype, 'failure', (ignored, error) => {\n    if (app.modal && app.modal.modal && app.modal.modal.componentClass === ProfileImageCropModal) {\n      app.modal.modal.attrs.error = error;\n      m.redraw();\n    }\n  });\n});\n\nexport const components = {\n  ProfileImageCropModal,\n};\n","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/AvatarEditor'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"chunk~\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"module.exports:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"forum\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmodule_exports\"] = self[\"webpackChunkmodule_exports\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","export * from './src/forum';\n"],"names":["module","exports","require","loadImage","src","crossOrigin","Promise","resolve","reject","img","Image","onload","onerror","imgToCanvas","canvas","document","createElement","width","height","context","getContext","drawImage","createBlob","parts","properties","type","Blob","e","name","Builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","builder","i","length","append","getBlob","createObjectURL","blob","URL","webkitURL","revokeObjectURL","url","blobToBinaryString","reader","FileReader","hasBinaryString","readAsBinaryString","onloadend","result","arrayBufferToBinaryString","readAsArrayBuffer","base64StringToBlob","base64","binaryStringToArrayBuffer","atob","binaryStringToBlob","binary","btoa","blobToBase64String","then","dataURLToBlob","dataURL","match","replace","buff","blobToDataURL","base64String","imgSrcToDataURL","quality","toDataURL","canvasToBlob","toBlob","imgSrcToBlob","arrayBufferToBlob","buffer","blobToArrayBuffer","ArrayBuffer","bytes","Uint8Array","byteLength","String","fromCharCode","buf","arr","charCodeAt","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","app","Modal","Button","LoadingIndicator","ProfileImageCropModal","className","title","translator","trans","oninit","vnode","addEventListener","image","m","redraw","readAsDataURL","attrs","file","content","ready","loadPicker","bind","loading","submit","hide","evt","__webpack_public_path__","forum","attribute","Cropper","console","setTimeout","cropper","target","path","aspectRatio","viewMode","guides","background","responsive","onbeforeupdate","modal","upload","submitDataURI","getCroppedCanvas","imageBlobReduce","toCanvas","max","resizedCanvas","dataURI","File","isDismissible","extend","override","AvatarEditor","initializers","add","original","window","show","close","ignored","componentClass","components","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_inheritsLoose","subClass","superClass","_setPrototypeOf","o","p"],"sourceRoot":""}